import{r as f,j as e,c as E,C as G,a as F,b as H,e as O,aX as U,a9 as N,i as z}from"./index-BbFXQDnE.js";import{m as s}from"./proxy-DDa1Qohe.js";import{G as B}from"./gauge-Bx8qdUWk.js";import{b as k}from"./AnimatedChartWidget-C2SAsS5g.js";import{T as R}from"./trending-up-dHE_XUoW.js";const X={sm:{width:120,height:120,strokeWidth:8},md:{width:160,height:160,strokeWidth:10},lg:{width:200,height:200,strokeWidth:12}},q={default:{excellent:"#10b981",good:"#3b82f6",warning:"#f59e0b",critical:"#ef4444"},performance:{excellent:"#8b5cf6",good:"#06b6d4",warning:"#f59e0b",critical:"#ef4444"},health:{excellent:"#10b981",good:"#84cc16",warning:"#eab308",critical:"#dc2626"}},_=({title:v,data:t,loading:r=!1,className:C="",size:I="md",showTargetLine:M=!0,animationDelay:P=0,colorScheme:S="default"})=>{const[o,y]=f.useState(0),[A,p]=f.useState(!1),{width:a,height:i,strokeWidth:d}=X[I],$=q[S],n=(a-d)/2,c=2*Math.PI*n;f.useEffect(()=>{if(r)return;p(!0);const m=o,h=t.current,T=h-m,L=2e3,u=60,W=T/u,V=L/u;let g=0;const w=setInterval(()=>{g++,g<=u?y(m+W*g):(y(h),p(!1),clearInterval(w))},V);return()=>clearInterval(w)},[t.current,r]);const x=()=>Math.min(o/t.max*100,100),j=()=>Math.min(t.target/t.max*100,100),b=()=>`${x()/100*c*.75} ${c}`,D=()=>{switch(t.status){case"excellent":return e.jsx(z,{className:"h-5 w-5 text-green-600"});case"good":return e.jsx(R,{className:"h-5 w-5 text-blue-600"});case"warning":return e.jsx(N,{className:"h-5 w-5 text-yellow-600"});case"critical":return e.jsx(N,{className:"h-5 w-5 text-red-600"});default:return e.jsx(U,{className:"h-5 w-5 text-gray-600"})}},l=()=>$[t.status];return e.jsx(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:P,type:"spring",stiffness:100},className:E("relative",C),children:e.jsxs(G,{className:"overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(F,{className:"pb-4",children:e.jsxs(H,{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s.div,{whileHover:{scale:1.1,rotate:10},className:"text-blue-600 dark:text-blue-400",children:e.jsx(B,{className:"h-5 w-5"})}),v]}),D()]})}),e.jsxs(O,{className:"flex flex-col items-center pt-0",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsxs("svg",{width:a,height:i,className:"transform -rotate-90",children:[e.jsx("circle",{cx:a/2,cy:i/2,r:n,stroke:"#e5e7eb",strokeWidth:d,fill:"transparent",strokeDasharray:`${c*.75} ${c}`,strokeLinecap:"round"}),e.jsx(k,{children:e.jsx(s.circle,{cx:a/2,cy:i/2,r:n,stroke:l(),strokeWidth:d,fill:"transparent",strokeDasharray:b(),strokeLinecap:"round",initial:{strokeDasharray:`0 ${c}`},animate:{strokeDasharray:b()},transition:{duration:2,ease:"easeOut"},style:{filter:`drop-shadow(0 0 8px ${l()}40)`}})}),M&&!r&&e.jsx(s.line,{x1:a/2,y1:i/2,x2:a/2+n*Math.cos(j()/100*1.5*Math.PI-Math.PI/2),y2:i/2+n*Math.sin(j()/100*1.5*Math.PI-Math.PI/2),stroke:"#6b7280",strokeWidth:"2",strokeDasharray:"4 4",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5}})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx(k,{mode:"wait",children:e.jsx(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:.3},className:"text-center",children:r?e.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-16 rounded"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Math.round(o).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.unit})]})},o)})}),A&&e.jsx(s.div,{className:"absolute inset-0 rounded-full border-2 border-blue-400",initial:{scale:.8,opacity:1},animate:{scale:1.2,opacity:0},transition:{duration:1.5,repeat:1/0}})]}),!r&&e.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"w-full space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[x().toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Target"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.target.toLocaleString()," ",t.unit]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx(s.div,{className:"h-2 rounded-full",style:{backgroundColor:l()},initial:{width:0},animate:{width:`${x()}%`},transition:{delay:1,duration:1.5,ease:"easeOut"}})}),e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm font-medium px-3 py-1 rounded-full",style:{backgroundColor:`${l()}20`,color:l()},children:[t.status.charAt(0).toUpperCase()+t.status.slice(1)," Performance"]})})]})]})]})})};export{_ as A};
