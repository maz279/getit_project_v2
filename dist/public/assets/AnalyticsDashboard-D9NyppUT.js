import{r as x,j as e,B as Z,C as ee,e as te,y as ge,a as xe,b as ue,b0 as he}from"./index-BbFXQDnE.js";import{u}from"./useQuery-CRIkWQSp.js";import{S as ve,a as pe,b as ye,c as fe,d as r}from"./select-CnlAahch.js";import{A as c,a as h}from"./AnimatedChartWidget-C2SAsS5g.js";import{A as v}from"./AnimatedGaugeWidget-BMbMni-2.js";import{A as je}from"./AnimatedActivityFeed-C_3UJIlk.js";import{m as l}from"./proxy-DDa1Qohe.js";import{C as we}from"./chart-column-BfcxbdnJ.js";import{C as Ne}from"./calendar-DGqr6yW0.js";import{D as be}from"./download-D5vec4LB.js";import{R as Ce}from"./refresh-cw-BsZBdGDw.js";import{C as Re}from"./circle-check-nM-5PfZk.js";import"./index-BdQq_4o_.js";import"./index-ByjSl0Ku.js";import"./Combination-D3IprPQZ.js";import"./index-7AG9p6tt.js";import"./chevron-up-CwwMYm58.js";import"./minus-RxNGvtwg.js";import"./trending-down-BL4KzBQx.js";import"./trending-up-dHE_XUoW.js";import"./dollar-sign-9rEdS2q2.js";import"./activity-7nEA8fdH.js";import"./generateCategoricalChart-CBDTvbKT.js";import"./chart-pie-rUETjBor.js";import"./PieChart-CJYfkqdk.js";import"./BarChart-yzLGOrqH.js";import"./AreaChart-CpP2idrM.js";import"./Area-BsGn6-p4.js";import"./LineChart-DVaUpGV3.js";import"./Line-B6amkYGo.js";import"./gauge-Bx8qdUWk.js";import"./avatar-t6J8pLpg.js";import"./clock-R8mzfB_N.js";import"./package-DaaEeyZO.js";const ct=()=>{var f,j,w,N,b,C,R,k,S,A,T,L,B,P,M,I,K,O,U,E,F,H,G,q,J,_,V,W,$,Q,Y,z,D,X;const[n,ae]=x.useState("last30Days"),[m,p]=x.useState(!1),[se,re]=x.useState(new Date),{data:a,isLoading:s,refetch:y}=u({queryKey:["/api/v1/analytics/dashboard/overview",n],enabled:!0,refetchInterval:3e5}),{data:i,isLoading:ie,refetch:ne}=u({queryKey:["/api/v1/analytics/dashboard/real-time"],enabled:!0,refetchInterval:3e4}),{data:o,isLoading:ke,refetch:le}=u({queryKey:["/api/v1/analytics/dashboard/bangladesh",n],enabled:!0,refetchInterval:3e5}),t=a,oe=async()=>{p(!0);try{await Promise.all([y(),ne(),le()]),re(new Date)}finally{setTimeout(()=>p(!1),1e3)}},ce=()=>{fetch("/api/v1/analytics/reports/comprehensive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({period:n,format:"excel",sections:["sales","customers","vendors","products"],includeCharts:!0,includeBangladeshMetrics:!0})}).then(d=>d.blob()).then(d=>{const de=window.URL.createObjectURL(d),g=document.createElement("a");g.href=de,g.download=`analytics_dashboard_${n}_${Date.now()}.xlsx`,g.click()})},me=[{id:"1",type:"order",title:"New Order Received",description:"Order #12345 placed by Fatima Ahmed",timestamp:new Date(Date.now()-5*60*1e3),metadata:{amount:2500,location:"Dhaka"},user:{name:"Fatima Ahmed"}},{id:"2",type:"payment",title:"Payment Processed",description:"bKash payment successful",timestamp:new Date(Date.now()-10*60*1e3),metadata:{amount:1800,status:"completed"}},{id:"3",type:"user",title:"New User Registration",description:"Rahman Khan registered from Chittagong",timestamp:new Date(Date.now()-15*60*1e3),metadata:{location:"Chittagong"},user:{name:"Rahman Khan"}},{id:"4",type:"review",title:"Product Review",description:"Samsung Galaxy received 5-star review",timestamp:new Date(Date.now()-25*60*1e3),metadata:{rating:5},user:{name:"Nasir Uddin"}}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(l.div,{whileHover:{scale:1.1,rotate:5},className:"text-blue-600 dark:text-blue-400",children:e.jsx(we,{className:"h-8 w-8"})}),"Analytics Dashboard"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Real-time business intelligence and performance metrics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ve,{value:n,onValueChange:ae,children:[e.jsxs(pe,{className:"w-48",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),e.jsx(ye,{})]}),e.jsxs(fe,{children:[e.jsx(r,{value:"today",children:"Today"}),e.jsx(r,{value:"yesterday",children:"Yesterday"}),e.jsx(r,{value:"last7Days",children:"Last 7 Days"}),e.jsx(r,{value:"last30Days",children:"Last 30 Days"}),e.jsx(r,{value:"last90Days",children:"Last 90 Days"}),e.jsx(r,{value:"thisMonth",children:"This Month"}),e.jsx(r,{value:"lastMonth",children:"Last Month"})]})]}),e.jsxs(Z,{variant:"outline",onClick:ce,children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(Z,{onClick:oe,disabled:m,children:[e.jsx(l.div,{animate:m?{rotate:360}:{},transition:{duration:1,repeat:m?1/0:0,ease:"linear"},children:e.jsx(Ce,{className:"h-4 w-4 mr-2"})}),"Refresh"]})]})]}),e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(ee,{className:"border-0 shadow-lg bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20",children:e.jsx(te,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"System Status: All Systems Operational"}),e.jsxs(ge,{variant:"secondary",className:"bg-green-100 text-green-700",children:[((f=i==null?void 0:i.systemHealth)==null?void 0:f.uptime)||"99.9%"," Uptime"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Last updated: ",se.toLocaleTimeString()]})]})})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(c,{title:"Total Revenue",data:{value:((w=(j=t==null?void 0:t.overview)==null?void 0:j.revenue)==null?void 0:w.total)||0,change:((b=(N=t==null?void 0:t.overview)==null?void 0:N.revenue)==null?void 0:b.growth)||0,target:(((R=(C=t==null?void 0:t.overview)==null?void 0:C.revenue)==null?void 0:R.total)||0)*1.2,format:"currency",trend:((S=(k=t==null?void 0:t.overview)==null?void 0:k.revenue)==null?void 0:S.trend)||"stable"},icon:"revenue",loading:s,animationDelay:.1}),e.jsx(c,{title:"Total Orders",data:{value:((T=(A=t==null?void 0:t.overview)==null?void 0:A.orders)==null?void 0:T.total)||0,change:8.5,target:(((B=(L=t==null?void 0:t.overview)==null?void 0:L.orders)==null?void 0:B.total)||0)*1.15,format:"number",trend:"up"},icon:"orders",loading:s,animationDelay:.2}),e.jsx(c,{title:"Active Customers",data:{value:((M=(P=t==null?void 0:t.overview)==null?void 0:P.customers)==null?void 0:M.active)||0,change:12.3,target:(((K=(I=t==null?void 0:t.overview)==null?void 0:I.customers)==null?void 0:K.active)||0)*1.25,format:"number",trend:"up"},icon:"customers",loading:s,animationDelay:.3}),e.jsx(c,{title:"Conversion Rate",data:{value:((U=(O=t==null?void 0:t.overview)==null?void 0:O.orders)==null?void 0:U.conversionRate)||0,change:2.1,target:3.5,format:"percentage",trend:"up"},icon:"conversion",loading:s,animationDelay:.4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(v,{title:"Sales Performance",data:{current:((E=i==null?void 0:i.sales)==null?void 0:E.todayRevenue)||0,target:5e4,max:1e5,unit:"BDT",trend:"up",status:"good"},loading:ie,animationDelay:.5}),e.jsx(v,{title:"Customer Satisfaction",data:{current:((H=(F=a==null?void 0:a.overview)==null?void 0:F.products)==null?void 0:H.averageRating)||0,target:4.5,max:5,unit:"Stars",trend:"up",status:"excellent"},loading:s,animationDelay:.6}),e.jsx(v,{title:"System Health",data:{current:98.5,target:99,max:100,unit:"%",trend:"stable",status:"excellent"},loading:!1,animationDelay:.7})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(h,{title:"Sales Revenue Trend",data:((q=(G=a==null?void 0:a.charts)==null?void 0:G.salesTrend)==null?void 0:q.data)||[{name:"Jan",value:45e3},{name:"Feb",value:52e3},{name:"Mar",value:48e3},{name:"Apr",value:61e3},{name:"May",value:55e3},{name:"Jun",value:67e3}],type:"area",loading:s,height:350,realTime:!0,onRefresh:y,animationDelay:.8})}),e.jsx(je,{title:"Real-Time Activity",activities:me,loading:!1,realTime:!0,animationDelay:.9})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(h,{title:"Top Product Categories",data:((_=(J=a==null?void 0:a.charts)==null?void 0:J.topCategories)==null?void 0:_.data)||[{name:"Electronics",value:25e3},{name:"Fashion",value:18e3},{name:"Home & Garden",value:12e3},{name:"Books",value:8e3},{name:"Sports",value:6e3}],type:"bar",loading:s,height:300,animationDelay:1}),e.jsx(h,{title:"Customer Segments",data:((W=(V=a==null?void 0:a.charts)==null?void 0:V.customerSegments)==null?void 0:W.data)||[{name:"Premium",value:35},{name:"Regular",value:45},{name:"New",value:20}],type:"pie",loading:s,height:300,animationDelay:1.1})]}),o&&e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:e.jsxs(ee,{className:"border-0 shadow-lg bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:[e.jsx(xe,{children:e.jsxs(ue,{className:"flex items-center gap-2 text-green-800 dark:text-green-300",children:[e.jsx(he,{className:"h-5 w-5"}),"Bangladesh Market Insights"]})}),e.jsx(te,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mobile Banking Adoption"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[((Q=($=o.summary)==null?void 0:$.bangladesh)==null?void 0:Q.mobileBankingAdoption)||85,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Top Division"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:((z=(Y=o.summary)==null?void 0:Y.bangladesh)==null?void 0:z.topDivision)||"Dhaka"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mobile Traffic"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[((X=(D=o.summary)==null?void 0:D.bangladesh)==null?void 0:X.mobileTraffic)||75,"%"]})]})]})})]})})]})})};export{ct as AnalyticsDashboard,ct as default};
