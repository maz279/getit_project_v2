import{r as l,h as N,v as C,j as e,H as S,B as m,A as k,C as g,a as E,b as L,d as P,e as b,E as F,L as f,F as D}from"./index-BbFXQDnE.js";import{M as H}from"./mail-DrpdqDGU.js";import{L as I}from"./lock-DMlLb13A.js";import{E as O}from"./eye-off-Cnvo8i4T.js";const $=()=>{const[t,j]=l.useState({email:"",password:""}),[n,y]=l.useState(!1),[x,u]=l.useState(!1),[r,p]=l.useState({}),i=N(),{toast:d}=C(),h=s=>{const{name:a,value:o}=s.target;j(c=>({...c,[a]:o})),r[a]&&p(c=>({...c,[a]:void 0}))},v=()=>{const s={};return t.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(s.email="Please enter a valid email address"):s.email="Email is required",t.password?t.password.length<8&&(s.password="Password must be at least 8 characters"):s.password="Password is required",p(s),Object.keys(s).length===0},w=async s=>{if(s.preventDefault(),!!v()){u(!0);try{const a=await fetch("/api/vendor/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(a.ok){const o=await a.json();localStorage.setItem("vendorToken",o.token),d({title:"Login Successful",description:"Welcome back! Redirecting to your dashboard..."}),i("/vendor/dashboard")}else{const o=await a.json();d({title:"Login Failed",description:o.message||"Invalid credentials. Please try again.",variant:"destructive"})}}catch(a){console.error("Login error:",a),d({title:"Login Error",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{u(!1)}}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[e.jsx(S,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{className:"flex items-center text-gray-600 hover:text-gray-800",children:e.jsxs(m,{variant:"ghost",onClick:()=>i("/"),className:"p-0 h-auto font-normal",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),e.jsxs(g,{children:[e.jsxs(E,{className:"text-center",children:[e.jsx(L,{className:"text-2xl font-bold text-gray-900",children:"Vendor Login"}),e.jsx(P,{className:"text-gray-600",children:"Access your seller dashboard and manage your business"})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:h,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter your email address"})]}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",name:"password",type:n?"text":"password",value:t.password,onChange:h,className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${r.password?"border-red-500":"border-gray-300"}`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>y(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(O,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})})]}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password})]}),e.jsx(m,{type:"submit",disabled:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg disabled:opacity-50",children:x?"Signing in...":"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx(f,{to:"/vendor/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800",children:"Forgot your password?"})}),e.jsx("div",{className:"text-center pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have a vendor account?"," ",e.jsx(f,{to:"/vendor/register",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Register here"})]})})]})})]}),e.jsx(g,{className:"bg-blue-50",children:e.jsxs(b,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Having trouble logging in? Our support team is here to help."}),e.jsx(m,{variant:"outline",onClick:()=>i("/support"),className:"w-full border-blue-300 text-blue-700 hover:bg-blue-100",children:"Contact Support"})]})})]})}),e.jsx(D,{})]})};export{$ as default};
