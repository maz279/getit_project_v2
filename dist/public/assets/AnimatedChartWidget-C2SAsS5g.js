import{r as a,j as e,c as E,C as K,a as $,b as F,e as B,D as O,U as G,aX as Y,$ as J,B as _}from"./index-BbFXQDnE.js";import{M as q,u as V,P as Q,a as Z,L as ee,m as u}from"./proxy-DDa1Qohe.js";import{C as M}from"./chart-column-BfcxbdnJ.js";import{M as te}from"./minus-RxNGvtwg.js";import{T as re}from"./trending-down-BL4KzBQx.js";import{T as W}from"./trending-up-dHE_XUoW.js";import{D as se}from"./dollar-sign-9rEdS2q2.js";import{A as H}from"./activity-7nEA8fdH.js";import{R as ae}from"./refresh-cw-BsZBdGDw.js";import{R as ne,a as ie,T as I,K as D,C as P,X as R,Y as T,M as oe}from"./generateCategoricalChart-CBDTvbKT.js";import{C as le}from"./chart-pie-rUETjBor.js";import{P as ce,a as de}from"./PieChart-CJYfkqdk.js";import{B as ue}from"./BarChart-yzLGOrqH.js";import{A as me}from"./AreaChart-CpP2idrM.js";import{A as fe}from"./Area-BsGn6-p4.js";import{L as he}from"./LineChart-DVaUpGV3.js";import{L as z}from"./Line-B6amkYGo.js";class xe extends a.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=i.offsetHeight||0,r.width=i.offsetWidth||0,r.top=i.offsetTop,r.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pe({children:m,isPresent:t}){const i=a.useId(),r=a.useRef(null),v=a.useRef({width:0,height:0,top:0,left:0}),{nonce:b}=a.useContext(q);return a.useInsertionEffect(()=>{const{width:l,height:s,top:d,left:h}=v.current;if(t||!r.current||!l||!s)return;r.current.dataset.motionPopId=i;const x=document.createElement("style");return b&&(x.nonce=b),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${s}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[t]),e.jsx(xe,{isPresent:t,childRef:r,sizeRef:v,children:a.cloneElement(m,{ref:r})})}const ge=({children:m,initial:t,isPresent:i,onExitComplete:r,custom:v,presenceAffectsLayout:b,mode:l})=>{const s=V(ye),d=a.useId(),h=a.useCallback(n=>{s.set(n,!0);for(const w of s.values())if(!w)return;r&&r()},[s,r]),x=a.useMemo(()=>({id:d,initial:t,isPresent:i,custom:v,onExitComplete:h,register:n=>(s.set(n,!1),()=>s.delete(n))}),b?[Math.random(),h]:[i,h]);return a.useMemo(()=>{s.forEach((n,w)=>s.set(w,!1))},[i]),a.useEffect(()=>{!i&&!s.size&&r&&r()},[i]),l==="popLayout"&&(m=e.jsx(pe,{isPresent:i,children:m})),e.jsx(Q.Provider,{value:x,children:m})};function ye(){return new Map}const A=m=>m.key||"";function L(m){const t=[];return a.Children.forEach(m,i=>{a.isValidElement(i)&&t.push(i)}),t}const U=({children:m,exitBeforeEnter:t,custom:i,initial:r=!0,onExitComplete:v,presenceAffectsLayout:b=!0,mode:l="sync"})=>{const s=a.useMemo(()=>L(m),[m]),d=s.map(A),h=a.useRef(!0),x=a.useRef(s),n=V(()=>new Map),[w,k]=a.useState(s),[g,y]=a.useState(s);Z(()=>{h.current=!1,x.current=s;for(let f=0;f<g.length;f++){const c=A(g[f]);d.includes(c)?n.delete(c):n.get(c)!==!0&&n.set(c,!1)}},[g,d.length,d.join("-")]);const C=[];if(s!==w){let f=[...s];for(let c=0;c<g.length;c++){const o=g[c],p=A(o);d.includes(p)||(f.splice(c,0,o),C.push(o))}l==="wait"&&C.length&&(f=C),y(L(f)),k(s);return}const{forceRender:S}=a.useContext(ee);return e.jsx(e.Fragment,{children:g.map(f=>{const c=A(f),o=s===g||d.includes(c),p=()=>{if(n.has(c))n.set(c,!0);else return;let N=!0;n.forEach(j=>{j||(N=!1)}),N&&(S==null||S(),y(x.current),v&&v())};return e.jsx(ge,{isPresent:o,initial:!h.current||r?void 0:!1,custom:o?void 0:i,presenceAffectsLayout:b,mode:l,onExitComplete:o?void 0:p,children:f},c)})})},je={revenue:se,orders:O,customers:G,conversion:Y,chart:M,performance:H,reports:J},$e=({title:m,data:t,icon:i="chart",loading:r=!1,className:v="",animationDelay:b=0})=>{const[l,s]=a.useState(0),[d,h]=a.useState(!1),x=je[i]||M;a.useEffect(()=>{if(r)return;h(!0);const y=typeof t.value=="number"?t.value:parseFloat(t.value.toString().replace(/[^0-9.-]/g,""));if(isNaN(y)){s(0),h(!1);return}let C=l;const S=y-C,f=1500,c=60,o=S/c,p=f/c;let N=0;const j=setInterval(()=>{N++,N<=c?s(C+o*N):(s(y),h(!1),clearInterval(j))},p);return()=>clearInterval(j)},[t.value,r]);const n=y=>t.format==="currency"?`à§³${y.toLocaleString("en-BD",{minimumFractionDigits:0,maximumFractionDigits:0})}`:t.format==="percentage"?`${y.toFixed(1)}%`:y.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),w=()=>{switch(t.trend){case"up":return e.jsx(W,{className:"h-4 w-4 text-green-600"});case"down":return e.jsx(re,{className:"h-4 w-4 text-red-600"});default:return e.jsx(te,{className:"h-4 w-4 text-gray-500"})}},k=()=>{switch(t.trend){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-500"}},g=()=>!t.target||typeof t.value!="number"?0:Math.min(t.value/t.target*100,100);return e.jsx(u.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,delay:b,type:"spring",stiffness:100},whileHover:{scale:1.02,transition:{duration:.2}},className:E("relative overflow-hidden",v),children:e.jsxs(K,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx(u.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5",animate:d?{background:["linear-gradient(to right, rgba(59, 130, 246, 0.05), rgba(147, 51, 234, 0.05))","linear-gradient(to right, rgba(147, 51, 234, 0.1), rgba(59, 130, 246, 0.1))","linear-gradient(to right, rgba(59, 130, 246, 0.05), rgba(147, 51, 234, 0.05))"]}:{},transition:{duration:2,repeat:d?1/0:0}}),e.jsx($,{className:"pb-2 relative z-10",children:e.jsxs(F,{className:"text-sm font-medium text-gray-600 dark:text-gray-400 flex items-center justify-between",children:[e.jsx("span",{children:m}),e.jsx(u.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:e.jsx(x,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})}),e.jsx(B,{className:"pt-0 relative z-10",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsx(U,{mode:"wait",children:e.jsx(u.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:.3},className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?e.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-24 rounded"}):n(l)},l)}),!r&&e.jsxs(u.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},className:E("flex items-center text-sm font-medium",k()),children:[w(),e.jsxs("span",{className:"ml-1",children:[t.change>0?"+":"",t.change.toFixed(1),"%"]})]})]}),t.target&&!r&&e.jsxs(u.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{delay:.7,duration:.8},className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[g().toFixed(0),"%"]})]}),e.jsxs("div",{className:"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:[e.jsx(u.div,{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${g()}%`},transition:{delay:1,duration:1.2,ease:"easeOut"}}),e.jsx(u.div,{className:"absolute top-0 h-full w-8 bg-gradient-to-r from-transparent via-white to-transparent opacity-30",animate:{x:[-32,g()*3]},transition:{delay:1.5,duration:1.5,ease:"easeInOut"}})]})]}),t.target&&!r&&e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-xs text-gray-500 flex justify-between",children:[e.jsxs("span",{children:["Target: ",n(t.target)]}),e.jsx("span",{className:E("font-medium",typeof t.value=="number"&&t.value>=t.target?"text-green-600":"text-orange-500"),children:typeof t.value=="number"&&t.value>=t.target?"Achieved":"In Progress"})]})]})}),r&&e.jsx(u.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:[-100,300]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})]})})},ve=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"],Fe=({title:m,data:t,type:i,loading:r=!1,className:v="",height:b=300,colors:l=ve,showLegend:s=!0,onRefresh:d,animationDelay:h=0,realTime:x=!1})=>{const[n,w]=a.useState([]),[k,g]=a.useState(!1),y=a.useRef(null);a.useEffect(()=>{if(r)return;const o=setTimeout(()=>{w(t)},h);return()=>clearTimeout(o)},[t,r,h]),a.useEffect(()=>{if(x&&d)return y.current=setInterval(()=>{d()},3e4),()=>{y.current&&clearInterval(y.current)}},[x,d]);const C=async()=>{if(d){g(!0);try{await d()}finally{setTimeout(()=>g(!1),1e3)}}},S=()=>{switch(i){case"line":return e.jsx(W,{className:"h-5 w-5"});case"area":return e.jsx(H,{className:"h-5 w-5"});case"bar":return e.jsx(M,{className:"h-5 w-5"});case"pie":return e.jsx(le,{className:"h-5 w-5"});default:return e.jsx(M,{className:"h-5 w-5"})}},f=({active:o,payload:p,label:N})=>o&&p&&p.length?e.jsxs(u.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:N}),p.map((j,X)=>e.jsxs("p",{className:"text-sm",style:{color:j.color},children:[j.name,": ",typeof j.value=="number"?j.value.toLocaleString():j.value]},X))]}):null,c=()=>{var p;if(r||n.length===0)return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(u.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-blue-200 dark:border-blue-800 border-t-blue-600 dark:border-t-blue-400 rounded-full"})});const o={data:n,margin:{top:5,right:30,left:20,bottom:5}};switch(i){case"line":return e.jsxs(he,{...o,children:[e.jsx(P,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),e.jsx(R,{dataKey:"name",stroke:"#6b7280",fontSize:12}),e.jsx(T,{stroke:"#6b7280",fontSize:12}),e.jsx(I,{content:f}),s&&e.jsx(D,{}),e.jsx(z,{type:"monotone",dataKey:"value",stroke:l[0],strokeWidth:3,dot:{fill:l[0],strokeWidth:2,r:4},activeDot:{r:6,stroke:l[0],strokeWidth:2},animationDuration:1500}),((p=n[0])==null?void 0:p.revenue)&&e.jsx(z,{type:"monotone",dataKey:"revenue",stroke:l[1],strokeWidth:2,strokeDasharray:"5 5",animationDuration:1500})]});case"area":return e.jsxs(me,{...o,children:[e.jsx(P,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),e.jsx(R,{dataKey:"name",stroke:"#6b7280",fontSize:12}),e.jsx(T,{stroke:"#6b7280",fontSize:12}),e.jsx(I,{content:f}),s&&e.jsx(D,{}),e.jsx(fe,{type:"monotone",dataKey:"value",stroke:l[0],fill:`${l[0]}40`,strokeWidth:2,animationDuration:1500})]});case"bar":return e.jsxs(ue,{...o,children:[e.jsx(P,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),e.jsx(R,{dataKey:"name",stroke:"#6b7280",fontSize:12}),e.jsx(T,{stroke:"#6b7280",fontSize:12}),e.jsx(I,{content:f}),s&&e.jsx(D,{}),e.jsx(oe,{dataKey:"value",fill:l[0],radius:[4,4,0,0],animationDuration:1500})]});case"pie":return e.jsxs(ce,{children:[e.jsx(de,{data:n,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",animationDuration:1500,animationBegin:200,children:n.map((N,j)=>e.jsx(ie,{fill:l[j%l.length]},`cell-${j}`))}),e.jsx(I,{content:f}),s&&e.jsx(D,{})]});default:return null}};return e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:h},className:E("relative",v),children:e.jsxs(K,{className:"overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx($,{className:"pb-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(F,{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(u.div,{whileHover:{scale:1.1,rotate:5},className:"text-blue-600 dark:text-blue-400",children:S()}),m,x&&e.jsx(u.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 bg-green-500 rounded-full"})]}),d&&e.jsx(_,{variant:"ghost",size:"sm",onClick:C,disabled:k,className:"h-8 w-8 p-0",children:e.jsx(u.div,{animate:k?{rotate:360}:{},transition:{duration:1,repeat:k?1/0:0,ease:"linear"},children:e.jsx(ae,{className:"h-4 w-4"})})})]})}),e.jsxs(B,{className:"pt-0",children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},style:{height:b},children:e.jsx(ne,{width:"100%",height:"100%",children:e.jsx(U,{mode:"wait",children:e.jsx(u.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},transition:{duration:.5},children:c()},JSON.stringify(n))})})}),!r&&n.length>0&&e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-4 flex justify-around text-sm text-gray-600 dark:text-gray-400 border-t pt-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:"Total"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:n.reduce((o,p)=>o+(p.value||0),0).toLocaleString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:"Average"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Math.round(n.reduce((o,p)=>o+(p.value||0),0)/n.length).toLocaleString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium",children:"Highest"}),e.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Math.max(...n.map(o=>o.value||0)).toLocaleString()})]})]})]})]})})};export{$e as A,Fe as a,U as b};
