import{r as d,j as e,c as m,C as P,a as U,b as $,y,e as E,w,M as L,D as R,U as B,a9 as F,a5 as J}from"./index-BbFXQDnE.js";import{A as V,a as _,b as q}from"./avatar-t6J8pLpg.js";import{m as i}from"./proxy-DDa1Qohe.js";import{A as j}from"./activity-7nEA8fdH.js";import{b}from"./AnimatedChartWidget-C2SAsS5g.js";import{C as z}from"./clock-R8mzfB_N.js";import{T as G}from"./trending-up-dHE_XUoW.js";import{P as K}from"./package-DaaEeyZO.js";const O={order:R,user:B,review:w,alert:F,vendor:G,product:K,payment:J},Q={order:"text-blue-600 bg-blue-100",user:"text-green-600 bg-green-100",review:"text-yellow-600 bg-yellow-100",alert:"text-red-600 bg-red-100",vendor:"text-purple-600 bg-purple-100",product:"text-indigo-600 bg-indigo-100",payment:"text-emerald-600 bg-emerald-100"},W={low:"border-l-green-500",medium:"border-l-yellow-500",high:"border-l-orange-500",critical:"border-l-red-500"},le=({title:N="Real-Time Activity",activities:x,loading:o=!1,className:v="",maxItems:g=10,showTimestamps:A=!0,realTime:C=!1,onRefresh:X,animationDelay:k=0})=>{const[c,T]=d.useState([]),[p,h]=d.useState(0);d.useEffect(()=>{if(o)return;const a=[...x].sort((s,t)=>t.timestamp.getTime()-s.timestamp.getTime()).slice(0,g),r=a.filter(s=>!c.find(t=>t.id===s.id));r.length>0&&c.length>0&&(h(r.length),setTimeout(()=>h(0),3e3)),T(a)},[x,o,g]);const M=a=>{const s=new Date().getTime()-a.getTime(),t=Math.floor(s/(1e3*60)),l=Math.floor(s/(1e3*60*60)),n=Math.floor(s/(1e3*60*60*24));return t<1?"Just now":t<60?`${t}m ago`:l<24?`${l}h ago`:n<7?`${n}d ago`:a.toLocaleDateString()},I=a=>`à§³${a.toLocaleString("en-BD")}`,S=a=>O[a],D=a=>Q[a];return e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:k},className:m("relative",v),children:e.jsxs(P,{className:"overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 h-full",children:[e.jsx(U,{className:"pb-4 relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(i.div,{whileHover:{scale:1.1,rotate:5},className:"text-blue-600 dark:text-blue-400",children:e.jsx(j,{className:"h-5 w-5"})}),N,C&&e.jsx(i.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 bg-green-500 rounded-full"})]}),e.jsx(b,{children:p>0&&e.jsx(i.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"flex items-center",children:e.jsxs(y,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:["+",p," new"]})})})]})}),e.jsx(E,{className:"pt-0 max-h-96 overflow-y-auto",children:o?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((a,r)=>e.jsxs("div",{className:"flex items-start space-x-3 animate-pulse",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-1/2"})]})]},r))}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{mode:"popLayout",children:c.map((a,r)=>{var t,l,n,u,f;const s=S(a.type);return e.jsxs(i.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.4,delay:r*.1,type:"spring",stiffness:100},layout:!0,className:m("flex items-start space-x-3 p-3 rounded-lg border-l-4 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",(t=a.metadata)!=null&&t.priority?W[a.metadata.priority]:"border-l-gray-300"),whileHover:{scale:1.02,x:5},children:[e.jsx("div",{className:m("flex items-center justify-center w-10 h-10 rounded-full",D(a.type)),children:e.jsx(s,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mt-1",children:a.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[((l=a.metadata)==null?void 0:l.amount)&&e.jsx("span",{className:"font-medium text-green-600",children:I(a.metadata.amount)}),((n=a.metadata)==null?void 0:n.rating)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:a.metadata.rating})]}),((u=a.metadata)==null?void 0:u.location)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsx("span",{children:a.metadata.location})]}),((f=a.metadata)==null?void 0:f.status)&&e.jsx(y,{variant:"outline",className:"text-xs",children:a.metadata.status})]})]}),a.user&&e.jsxs(V,{className:"h-8 w-8 ml-3",children:[e.jsx(_,{src:a.user.avatar}),e.jsx(q,{className:"text-xs",children:a.user.name.split(" ").map(H=>H[0]).join("").toUpperCase()})]})]}),A&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-gray-400",children:[e.jsx(z,{className:"h-3 w-3"}),e.jsx("span",{children:M(a.timestamp)})]})]})]},a.id)})}),!o&&c.length===0&&e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[e.jsx(j,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent activity"})]})]})})]})})};export{le as A};
