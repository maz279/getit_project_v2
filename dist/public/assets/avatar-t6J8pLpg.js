import{r as s,j as d,n as b,aV as I,af as j,ak as _,ad as m,c as v}from"./index-BbFXQDnE.js";function P(e){const t=k(e),r=s.forwardRef((a,n)=>{const{children:o,...u}=a,i=s.Children.toArray(o),l=i.find(F);if(l){const c=l.props.children,f=i.map(p=>p===l?s.Children.count(c)>1?s.Children.only(null):s.isValidElement(c)?c.props.children:null:p);return d.jsx(t,{...u,ref:n,children:s.isValidElement(c)?s.cloneElement(c,void 0,f):null})}return d.jsx(t,{...u,ref:n,children:o})});return r.displayName=`${e}.Slot`,r}function k(e){const t=s.forwardRef((r,a)=>{const{children:n,...o}=r;if(s.isValidElement(n)){const u=T(n),i=$(o,n.props);return n.type!==s.Fragment&&(i.ref=a?b(a,u):u),s.cloneElement(n,i)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V=Symbol("radix.slottable");function F(e){return s.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V}function $(e,t){const r={...t};for(const a in t){const n=e[a],o=t[a];/^on[A-Z]/.test(a)?n&&o?r[a]=(...i)=>{const l=o(...i);return n(...i),l}:n&&(r[a]=n):a==="style"?r[a]={...n,...o}:a==="className"&&(r[a]=[n,o].filter(Boolean).join(" "))}return{...e,...r}}function T(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var W=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g=W.reduce((e,t)=>{const r=P(`Primitive.${t}`),a=s.forwardRef((n,o)=>{const{asChild:u,...i}=n,l=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...i,ref:o})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function M(){return I.useSyncExternalStore(O,()=>!0,()=>!1)}function O(){return()=>{}}var y="Avatar",[D,z]=j(y),[H,A]=D(y),x=s.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[n,o]=s.useState("idle");return d.jsx(H,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:d.jsx(g.span,{...a,ref:t})})});x.displayName=y;var E="AvatarImage",h=s.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:n=()=>{},...o}=e,u=A(E,r),i=B(a,o),l=_(c=>{n(c),u.onImageLoadingStatusChange(c)});return m(()=>{i!=="idle"&&l(i)},[i,l]),i==="loaded"?d.jsx(g.img,{...o,ref:t,src:a}):null});h.displayName=E;var w="AvatarFallback",R=s.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...n}=e,o=A(w,r),[u,i]=s.useState(a===void 0);return s.useEffect(()=>{if(a!==void 0){const l=window.setTimeout(()=>i(!0),a);return()=>window.clearTimeout(l)}},[a]),u&&o.imageLoadingStatus!=="loaded"?d.jsx(g.span,{...n,ref:t}):null});R.displayName=w;function S(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B(e,{referrerPolicy:t,crossOrigin:r}){const a=M(),n=s.useRef(null),o=a?(n.current||(n.current=new window.Image),n.current):null,[u,i]=s.useState(()=>S(o,e));return m(()=>{i(S(o,e))},[o,e]),m(()=>{const l=p=>()=>{i(p)};if(!o)return;const c=l("loaded"),f=l("error");return o.addEventListener("load",c),o.addEventListener("error",f),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",c),o.removeEventListener("error",f)}},[o,r,t]),u}var C=x,N=h,L=R;const q=s.forwardRef(({className:e,...t},r)=>d.jsx(C,{ref:r,className:v("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));q.displayName=C.displayName;const G=s.forwardRef(({className:e,...t},r)=>d.jsx(N,{ref:r,className:v("aspect-square h-full w-full",e),...t}));G.displayName=N.displayName;const K=s.forwardRef(({className:e,...t},r)=>d.jsx(L,{ref:r,className:v("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));K.displayName=L.displayName;export{q as A,G as a,K as b};
